name: CMake on multiple platforms

on:
  push:
    branches: [ "main", "dev" ]
  pull_request:
    branches: [ "main", "dev" ]

jobs:
  check-branch:
    runs-on: ubuntu-latest
    steps:
      - name: Validate branch name
        run: |
          BRANCH_NAME=${GITHUB_REF#refs/heads/}
          VALID_REGEX="^(dev|(feature|bugfix|hotfix|docs)/[a-z0-9-]+)$|^refs/pull/[0-9]+/merge$"
          if [[ ! $BRANCH_NAME =~ $VALID_REGEX ]]; then
            echo "Invalid branch name: $BRANCH_NAME"
            exit 1
          fi

